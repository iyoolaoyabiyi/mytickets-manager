{% extends 'base.twig' %}
{% set c = copyLanding %}
{% set heroCircleSecondary = c.hero.media.decorativeCircleSecondary|default(c.hero.media.decorativeCircle) %}
{% block content %}
<section class="c-hero" data-page="landing">
  <div class="c-hero__inner animate-fade-up">
    <h1 class="c-hero__title">{{ c.hero.title }}</h1>
    <p class="c-hero__subtitle">{{ c.hero.subtitle }}</p>
    <div class="c-hero__actions" data-auth-state="{{ is_auth ? 'auth' : 'guest' }}">
      <div data-auth-group="guest" {% if is_auth %}hidden{% endif %}>
        <a href="{{ path_base|default('') }}/auth/signup" class="c-button c-button--primary">{{ c.hero.primaryCta }}</a>
        <a href="{{ path_base|default('') }}/auth/login" class="c-button c-button--secondary">{{ c.hero.secondaryCta }}</a>
      </div>
      <div data-auth-group="auth" {% if not is_auth %}hidden{% endif %}>
        <a href="{{ path_base|default('') ~ c.hero.authenticatedHref|default('/dashboard') }}" class="c-button c-button--primary">
          {{ c.hero.authenticatedCta|default('Dashboard') }}
        </a>
      </div>
    </div>
  </div>
  <img src="{{ asset_base_url|default('/packages/assets/') ~ 'media/' ~ c.hero.media.wave }}" class="c-hero__wave" alt="" />
  <img src="{{ asset_base_url|default('/packages/assets/') ~ 'media/' ~ c.hero.media.decorativeCircle }}" class="c-hero__decor" alt="" />
  <img src="{{ asset_base_url|default('/packages/assets/') ~ 'media/' ~ heroCircleSecondary }}" class="c-hero__decor-secondary" alt="" />
</section>

<section class="l-container l-stack py-2xl">
  <div class="l-grid-3">
    {% for f in c.features %}
      <article class="c-feature-card animate-fade-up">
        <img src="{{ asset_base_url|default('/packages/assets/') ~ 'media/' ~ f.icon }}" class="c-feature-card__icon" alt="" />
        <h3 class="c-feature-card__title">{{ f.title }}</h3>
        <p class="c-feature-card__body">{{ f.body }}</p>
      </article>
    {% endfor %}
  </div>
</section>

<section class="l-container l-stack py-2xl">
  <div class="l-grid-3">
    {% for s in c.howItWorks %}
      <article class="c-how-step animate-fade-up">
        <h3 class="c-how-step__title">{{ s.title }}</h3>
        <p class="c-how-step__body">{{ s.body }}</p>
      </article>
    {% endfor %}
  </div>
</section>
{% endblock %}
